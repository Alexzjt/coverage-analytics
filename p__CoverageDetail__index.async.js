"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[291],{77052:function(k,f,r){r.r(f);var I=r(90228),h=r.n(I),C=r(87999),p=r.n(C),b=r(48305),M=r.n(b),B=r(60819),L=r(28259),S=r(4925),i=r(75271),R=r(67963),E=r(52676),j=function(){var K=(0,i.useRef)(),U=(0,R.useSearchParams)(),W=M()(U,1),_=W[0],x=(0,i.useState)({}),O=M()(x,2),G=O[0],V=O[1],w=(0,R.useModel)("business"),o=w.treeData;(0,i.useEffect)(function(){if((o==null?void 0:o.length)>0){var n={};o.forEach(function(t){t.PARENTID||(n[t.NAME]={text:t.NAME})}),V(n)}},[o]);var z=[{title:"\u9879\u76EE\u540D\u79F0",dataIndex:"NAME",formItemProps:{label:"\u9879\u76EE\u540D\u79F0(\u5173\u952E\u5B57)"},sorter:!0,defaultSortOrder:_.get("sortBy")==="name"?"descend":void 0,render:function(t,e){return e.jumpUrl?(0,E.jsx)("a",{href:e.jumpUrl,target:"_blank",rel:"noreferrer",children:e.NAME}):e.NAME}},{title:"\u6240\u5C5E\u4E00\u7EA7\u5206\u7C7B",dataIndex:"GRANDPARENTNAME",valueType:"select",valueEnum:G,sorter:!0,defaultSortOrder:_.get("sortBy")==="firstLevel"?"descend":void 0},{title:"\u6240\u5C5E\u4E8C\u7EA7\u5206\u7C7B",dataIndex:"PARENTNAME",hideInSearch:!0,sorter:!0,defaultSortOrder:_.get("sortBy")==="parentName"?"descend":void 0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"CREATETIME",valueType:"dateTime",hideInSearch:!0,sorter:!0,width:200,defaultSortOrder:_.get("sortBy")==="createTime"?"descend":void 0},{title:"\u884C\u8986\u76D6\u7387",dataIndex:"LINECOVERAGE",hideInSearch:!0,sorter:!0,width:150,render:function(t,e){return"".concat(e.LINECOVERAGE,"%")},defaultSortOrder:_.get("sortBy")==="lineCoverage"?"descend":void 0},{title:"\u5206\u652F\u8986\u76D6\u7387",dataIndex:"BRANCHCOVERAGE",hideInSearch:!0,sorter:!0,width:150,render:function(t,e){return"".concat(e.BRANCHCOVERAGE,"%")},defaultSortOrder:_.get("sortBy")==="branchCoverage"?"descend":void 0}];return(0,E.jsx)(L._z,{header:{title:"\u8986\u76D6\u7387\u8BE6\u60C5"},children:(0,E.jsx)(S.Z,{actionRef:K,rowKey:"RN",search:{labelWidth:120},toolBarRender:!1,request:function(){var n=p()(h()().mark(function t(e,d,H){var a,c,l,P,N,u,m,g,A,D,v,T,y;return h()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("Request Params:",e,"Sorter:",d,"Filter:",H),a={projectName:e.NAME},e.NAME&&(a.projectName=e.NAME),e.GRANDPARENTNAME&&(a.firstLevelCategory=e.GRANDPARENTNAME),c=Object.keys(d),c.length>0&&(l=c[0],P=d[l],N={NAME:"name",PARENTNAME:"parentName",GRANDPARENTNAME:"grandParentName",LINECOVERAGE:"lineCoverage",BRANCHCOVERAGE:"branchCoverage",CREATETIME:"createtime"},a.sortby=N[l]||l,a.order=P==="ascend"?2:1),s.next=8,(0,B.lu)(a);case 8:return u=s.sent,m=(u==null?void 0:u.responseData)||[],g=e.current||1,A=e.pageSize||20,D=m.length,v=(g-1)*A,T=v+A,y=m.slice(v,T),s.abrupt("return",{data:y,success:!0,total:D});case 17:case"end":return s.stop()}},t)}));return function(t,e,d){return n.apply(this,arguments)}}(),columns:z})})};f.default=j}}]);
