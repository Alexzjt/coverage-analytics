"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[371],{94564:function(aa,Ne,u){u.r(Ne),u.d(Ne,{default:function(){return ea}});var Te=u(90228),_=u.n(Te),Be=u(87999),De=u.n(Be),Ze=u(15558),Re=u.n(Ze),ke=u(48305),w=u.n(ke),I=u(60819),Y=u(51419),N=u(61127),he=u(55386),ze=u(48858),O=u(79590),fe=u(58247),Q=u(55613),s=u(75271),$=u(67963),p={},e=u(52676),V=Y.Z.Option,Oe=function(l){var C=l.open,y=l.onCancel,m=l.onSave,x=N.Z.useForm(),D=w()(x,1),r=D[0],n=(0,s.useState)(""),j=w()(n,2),v=j[0],h=j[1],L=(0,s.useState)(!1),o=w()(L,2),i=o[0],f=o[1],M=(0,s.useState)(!1),Z=w()(M,2),E=Z[0],g=Z[1],A=(0,$.useModel)("business"),k=A.treeData,pe=A.refreshTree,Ce=(0,s.useState)([]),se=w()(Ce,2),ie=se[0],H=se[1],ue=k.filter(function(d){return!d.PARENTID}),t=function(z){h(z),f(!1),g(!1),r.setFieldsValue({level2Parent:void 0,projectParent1:void 0,projectParent2:void 0}),H([])},c=function(z){if(f(!1),z){var K=k.filter(function(P){return P.PARENTID===z});H(K)}else H([]);r.setFieldsValue({projectParent2:void 0})},S=function(){f(!i),i||(r.setFieldsValue({level2Parent:void 0,projectParent1:void 0}),H([]))},F=function(){g(!E),E||r.setFieldsValue({projectParent2:void 0})},b=function(){r.resetFields(),h(""),f(!1),g(!1),H([]),y()},T=function(z,K,P){var B;return(B=z.find(function(X){return X.NAME===K&&X.PARENTID===P}))===null||B===void 0?void 0:B.ID},R=function(){r.validateFields().then(function(){var z=De()(_()().mark(function K(P){var B,X,J,je,ye,oe,Se,Ae,U,xe,be,ce,Pe,q,Ee,Ie,de,Le,we,W,ge;return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,B=function(ve){if((ve==null?void 0:ve.responseData)==="\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF: \u9879\u76EE\u4FE1\u606F\u5DF2\u5B58\u5728"){var Fe=new Error("\u9879\u76EE\u4FE1\u606F\u5DF2\u5B58\u5728");throw Fe.response={data:ve},Fe}},v!=="level1"){a.next=9;break}return a.next=5,(0,I.Kn)({level:1,name:P.level1Name});case 5:X=a.sent,B(X),a.next=69;break;case 9:if(v!=="level2"){a.next=32;break}if(J=P.level2Parent,!i){a.next=24;break}return je=P.newLevel1Name,a.next=15,(0,I.Kn)({level:1,name:je});case 15:return ye=a.sent,B(ye),a.next=19,(0,I.p5)();case 19:if(oe=a.sent,Se=(oe==null?void 0:oe.responseData)||[],J=T(Se,je),J){a.next=24;break}throw new Error("Failed to retrieve new Level 1 ID");case 24:if(J){a.next=26;break}throw new Error("\u4E00\u7EA7\u5206\u7C7BID\u7F3A\u5931");case 26:return a.next=28,(0,I.Kn)({level:2,upid:J,name:P.level2Name});case 28:Ae=a.sent,B(Ae),a.next=69;break;case 32:if(v!=="project"){a.next=69;break}if(U=P.projectParent1,!i){a.next=47;break}return xe=P.newProjectLevel1Name,a.next=38,(0,I.Kn)({level:1,name:xe});case 38:return be=a.sent,B(be),a.next=42,(0,I.p5)();case 42:if(ce=a.sent,Pe=(ce==null?void 0:ce.responseData)||[],U=T(Pe,xe),U){a.next=47;break}throw new Error("Failed to retrieve new Level 1 ID");case 47:if(U){a.next=49;break}throw new Error("\u4E00\u7EA7\u5206\u7C7BID\u7F3A\u5931");case 49:if(q=P.projectParent2,!E){a.next=63;break}return Ee=P.newProjectLevel2Name,a.next=54,(0,I.Kn)({level:2,upid:U,name:Ee});case 54:return Ie=a.sent,B(Ie),a.next=58,(0,I.p5)();case 58:if(de=a.sent,Le=(de==null?void 0:de.responseData)||[],q=T(Le,Ee,U),q){a.next=63;break}throw new Error("Failed to retrieve new Level 2 ID");case 63:if(q){a.next=65;break}throw new Error("\u4E8C\u7EA7\u5206\u7C7BID\u7F3A\u5931");case 65:return a.next=67,(0,I.Kn)({level:3,upid:q,name:P.projectName,uuid:P.projectUuid||""});case 67:we=a.sent,B(we);case 69:he.ZP.success("\u4FDD\u5B58\u6210\u529F\uFF01"),m({}),b(),a.next=78;break;case 74:a.prev=74,a.t0=a.catch(0),console.error(a.t0),(a.t0===null||a.t0===void 0||(W=a.t0.response)===null||W===void 0||(W=W.data)===null||W===void 0?void 0:W.responseData)==="\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF: \u9879\u76EE\u4FE1\u606F\u5DF2\u5B58\u5728"||a.t0!==null&&a.t0!==void 0&&(ge=a.t0.message)!==null&&ge!==void 0&&ge.includes("\u9879\u76EE\u4FE1\u606F\u5DF2\u5B58\u5728")?he.ZP.error("\u9879\u76EE\u4FE1\u606F\u5DF2\u5B58\u5728"):he.ZP.error(a.t0.message||"\u4FDD\u5B58\u5931\u8D25");case 78:return a.prev=78,a.next=81,pe();case 81:return a.finish(78);case 82:case"end":return a.stop()}},K,null,[[0,74,78,82]])}));return function(K){return z.apply(this,arguments)}}())};return(0,e.jsx)(ze.Z,{title:"\u65B0\u589E\u9879\u76EE",open:C,onCancel:b,footer:null,width:900,className:p.addProjectModal,children:(0,e.jsxs)(N.Z,{form:r,layout:"vertical",className:p.formContainer,children:[(0,e.jsx)(N.Z.Item,{label:"\u65B0\u589E\u9879\u76EE\u7C7B\u578B",name:"projectType",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u65B0\u589E\u9879\u76EE\u7C7B\u578B"}],children:(0,e.jsxs)(Y.Z,{placeholder:"\u8BF7\u9009\u62E9",onChange:t,className:p.formControl,children:[(0,e.jsx)(V,{value:"level1",children:"\u4E00\u7EA7\u5206\u7C7B"}),(0,e.jsx)(V,{value:"level2",children:"\u4E8C\u7EA7\u5206\u7C7B"}),(0,e.jsx)(V,{value:"project",children:"\u9879\u76EE"})]})}),v==="level1"&&(0,e.jsx)(N.Z.Item,{label:"\u4E00\u7EA7\u5206\u7C7B\u540D\u79F0",name:"level1Name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4E00\u7EA7\u5206\u7C7B\u540D\u79F0"}],children:(0,e.jsx)(O.Z,{placeholder:"\u8BF7\u8F93\u5165\u4E00\u7EA7\u5206\u7C7B\u540D\u79F0",className:p.formControl})}),v==="level2"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(N.Z.Item,{label:"\u6240\u5C5E\u4E00\u7C7B\u9879\u76EE",required:!0,children:[(0,e.jsxs)(fe.Z.Compact,{style:{width:"100%"},children:[(0,e.jsx)(N.Z.Item,{name:"level2Parent",noStyle:!0,rules:[{required:!i,message:"\u8BF7\u9009\u62E9\u6216\u8F93\u5165\u6240\u5C5E\u4E00\u7C7B\u9879\u76EE"}],children:(0,e.jsx)(Y.Z,{placeholder:"\u8BF7\u9009\u62E9",onChange:c,disabled:i,className:p.formControl,children:ue.map(function(d){return(0,e.jsx)(V,{value:d.ID,children:d.NAME},d.ID)})})}),(0,e.jsx)(Q.ZP,{onClick:S,className:p.btnInline,children:i?"\u53D6\u6D88":"\u65B0\u589E"})]}),i&&(0,e.jsx)(N.Z.Item,{name:"newLevel1Name",style:{marginTop:8},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u7684\u4E00\u7EA7\u5206\u7C7B\u540D\u79F0"}],children:(0,e.jsx)(O.Z,{placeholder:"\u8BF7\u8F93\u5165\u65B0\u7684\u4E00\u7EA7\u5206\u7C7B\u540D\u79F0",className:p.formControl})})]}),(0,e.jsx)(N.Z.Item,{label:"\u4E8C\u7EA7\u5206\u7C7B\u540D\u79F0",name:"level2Name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4E8C\u7EA7\u5206\u7C7B\u540D\u79F0"}],children:(0,e.jsx)(O.Z,{placeholder:"\u8BF7\u8F93\u5165\u4E8C\u7EA7\u5206\u7C7B\u540D\u79F0",className:p.formControl})})]}),v==="project"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(N.Z.Item,{label:"\u6240\u5C5E\u4E00\u7C7B\u9879\u76EE",required:!0,children:[(0,e.jsxs)(fe.Z.Compact,{style:{width:"100%"},children:[(0,e.jsx)(N.Z.Item,{name:"projectParent1",noStyle:!0,rules:[{required:!i,message:"\u8BF7\u9009\u62E9\u6216\u8F93\u5165\u6240\u5C5E\u4E00\u7C7B\u9879\u76EE"}],children:(0,e.jsx)(Y.Z,{placeholder:"\u8BF7\u9009\u62E9",onChange:c,disabled:i,className:p.formControl,children:ue.map(function(d){return(0,e.jsx)(V,{value:d.ID,children:d.NAME},d.ID)})})}),(0,e.jsx)(Q.ZP,{onClick:S,className:p.btnInline,children:i?"\u53D6\u6D88":"\u65B0\u589E"})]}),i&&(0,e.jsx)(N.Z.Item,{name:"newProjectLevel1Name",style:{marginTop:8},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u7684\u4E00\u7EA7\u5206\u7C7B\u540D\u79F0"}],children:(0,e.jsx)(O.Z,{placeholder:"\u8BF7\u8F93\u5165\u65B0\u7684\u4E00\u7EA7\u5206\u7C7B\u540D\u79F0",className:p.formControl})})]}),(0,e.jsxs)(N.Z.Item,{label:"\u6240\u5C5E\u4E8C\u7EA7\u5206\u7C7B",required:!0,children:[(0,e.jsxs)(fe.Z.Compact,{style:{width:"100%"},children:[(0,e.jsx)(N.Z.Item,{name:"projectParent2",noStyle:!0,rules:[{required:!E,message:"\u8BF7\u9009\u62E9\u6216\u8F93\u5165\u6240\u5C5E\u4E8C\u7EA7\u5206\u7C7B"}],children:(0,e.jsx)(Y.Z,{placeholder:"\u8BF7\u5148\u9009\u62E9\u4E00\u7EA7\u9879\u76EE",disabled:E||!ie.length&&!i,className:p.formControl,children:ie.map(function(d){return(0,e.jsx)(V,{value:d.ID,children:d.NAME},d.ID)})})}),(0,e.jsx)(Q.ZP,{onClick:F,className:p.btnInline,disabled:!i&&!r.getFieldValue("projectParent1"),children:E?"\u53D6\u6D88":"\u65B0\u589E"})]}),E&&(0,e.jsx)(N.Z.Item,{name:"newProjectLevel2Name",style:{marginTop:8},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u7684\u4E8C\u7EA7\u5206\u7C7B\u540D\u79F0"}],children:(0,e.jsx)(O.Z,{placeholder:"\u8BF7\u8F93\u5165\u65B0\u7684\u4E8C\u7EA7\u5206\u7C7B\u540D\u79F0",className:p.formControl})})]}),(0,e.jsx)(N.Z.Item,{label:"\u9879\u76EE\u540D\u79F0",name:"projectName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0"}],children:(0,e.jsx)(O.Z,{placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0",className:p.formControl})}),(0,e.jsx)(N.Z.Item,{label:"\u9879\u76EEuuid",name:"projectUuid",children:(0,e.jsx)(O.Z,{placeholder:"\u8BF7\u8F93\u5165\u9879\u76EEuuid",className:p.formControl})})]}),(0,e.jsx)("div",{className:p.formActions,children:(0,e.jsx)(Q.ZP,{type:"primary",onClick:R,className:p.btnSave,children:"\u4FDD\u5B58"})})]})})},$e=Oe,ee=u(56865),ae={chartContainer:"chartContainer___eQZjL",chartTitle:"chartTitle___kuqdP",chartContent:"chartContent___LjuZn",chart:"chart___oOWio"},Me=function(l){var C=l.title,y=C===void 0?"\u6700\u8FD1\u5F55\u5165N\u4E2A\u9879\u76EE\u7684\u8986\u76D6\u7387\u6307\u6807":C,m=l.data,x=l.xAxisData,D=l.onClick,r=(0,s.useRef)(null),n=(0,s.useRef)(null);return(0,s.useEffect)(function(){if(r.current){n.current||(n.current=ee.S1(r.current));var j=m||{lineCoverage:[],branchCoverage:[]},v={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(o){var i=o[0].name+"<br/>";return o.forEach(function(f){i+=f.marker+" "+f.seriesName+": "+f.value+" %<br/>"}),i}},legend:{data:["\u884C\u8986\u76D6\u7387","\u5206\u652F\u8986\u76D6\u7387"],top:10},grid:{left:"3%",right:"4%",bottom:"3%",top:"15%",containLabel:!0},xAxis:{type:"category",data:x||[],axisLabel:{interval:0,width:80,overflow:"break"},axisLine:{lineStyle:{color:"#d9d9d9"}}},yAxis:{type:"value",min:0,max:100,interval:20,axisLabel:{formatter:"{value} %"},axisLine:{lineStyle:{color:"#d9d9d9"}},splitLine:{lineStyle:{color:"#f0f0f0"}}},series:[{name:"\u884C\u8986\u76D6\u7387",type:"bar",data:j.lineCoverage,itemStyle:{color:"#1890ff"}},{name:"\u5206\u652F\u8986\u76D6\u7387",type:"bar",data:j.branchCoverage,itemStyle:{color:"#36cfc9"}}]};n.current.setOption(v);var h=function(){var o;(o=n.current)===null||o===void 0||o.resize()};return window.addEventListener("resize",h),function(){window.removeEventListener("resize",h),n.current&&(n.current.dispose(),n.current=null)}}},[m,x]),(0,e.jsxs)("div",{className:ae.chartContainer,onClick:D,children:[(0,e.jsx)("div",{className:ae.chartTitle,children:y}),(0,e.jsx)("div",{className:ae.chartContent,children:(0,e.jsx)("div",{ref:r,className:ae.chart})})]})},He=Me,re={chartContainer:"chartContainer___kZ0d5",chartTitle:"chartTitle___O_c4g",chartContent:"chartContent___LvRKC",chart:"chart___KFRTF"},Ve=function(l){var C=l.title,y=C===void 0?"\u884C\u8986\u76D6\u7387\u6307\u6807\u6700\u9AD8\u7684N\u4E2A\u9879\u76EE\u7EDF\u8BA1":C,m=l.data,x=l.yAxisData,D=l.onClick,r=(0,s.useRef)(null),n=(0,s.useRef)(null);return(0,s.useEffect)(function(){if(r.current){n.current||(n.current=ee.S1(r.current));var j=m||{lineCoverage:[],branchCoverage:[]},v={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(o){var i=o[0].name+"<br/>";return o.forEach(function(f){i+=f.marker+" "+f.seriesName+": "+f.value+" %<br/>"}),i}},legend:{data:["\u884C\u8986\u76D6\u7387","\u5206\u652F\u8986\u76D6\u7387"],top:10},grid:{left:"20%",right:"4%",bottom:"3%",top:"15%",containLabel:!1},xAxis:{type:"value",min:0,max:100,interval:20,axisLabel:{formatter:"{value} %"},axisLine:{lineStyle:{color:"#d9d9d9"}},splitLine:{lineStyle:{color:"#f0f0f0"}}},yAxis:{type:"category",data:x||[],axisLabel:{},axisLine:{lineStyle:{color:"#d9d9d9"}}},series:[{name:"\u884C\u8986\u76D6\u7387",type:"bar",data:j.lineCoverage,itemStyle:{color:"#1890ff"}},{name:"\u5206\u652F\u8986\u76D6\u7387",type:"bar",data:j.branchCoverage,itemStyle:{color:"#36cfc9"}}]};n.current.setOption(v);var h=function(){var o;(o=n.current)===null||o===void 0||o.resize()};return window.addEventListener("resize",h),function(){window.removeEventListener("resize",h),n.current&&(n.current.dispose(),n.current=null)}}},[m,x]),(0,e.jsxs)("div",{className:re.chartContainer,onClick:D,children:[(0,e.jsx)("div",{className:re.chartTitle,children:y}),(0,e.jsx)("div",{className:re.chartContent,children:(0,e.jsx)("div",{ref:r,className:re.chart})})]})},Ge=Ve,te={chartContainer:"chartContainer___aFxvd",chartTitle:"chartTitle___O2Bcx",chartContent:"chartContent___PLLjt",chart:"chart____7w2n"},Ke=function(l){var C=l.title,y=C===void 0?"\u6309\u65F6\u95F4\u5F55\u5165\u9879\u76EE\u6570\u91CF\u7EDF\u8BA1":C,m=l.data,x=l.xAxisData,D=l.onClick,r=(0,s.useRef)(null),n=(0,s.useRef)(null);return(0,s.useEffect)(function(){if(r.current){n.current||(n.current=ee.S1(r.current));var j={tooltip:{trigger:"axis"},legend:{data:["\u65B0\u589E\u9879\u76EE\u6570"],top:10},grid:{left:"3%",right:"4%",bottom:"3%",top:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:x||[],axisLabel:{},axisLine:{lineStyle:{color:"#d9d9d9"}}},yAxis:{type:"value",axisLabel:{},axisLine:{lineStyle:{color:"#d9d9d9"}},splitLine:{lineStyle:{color:"#f0f0f0"}}},series:[{name:"\u65B0\u589E\u9879\u76EE\u6570",type:"line",smooth:!0,data:m||[],itemStyle:{color:"#1890ff"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(24, 144, 255, 0.3)"},{offset:1,color:"rgba(24, 144, 255, 0.05)"}]}}}]};n.current.setOption(j);var v=function(){var L;(L=n.current)===null||L===void 0||L.resize()};return window.addEventListener("resize",v),function(){window.removeEventListener("resize",v),n.current&&(n.current.dispose(),n.current=null)}}},[m,x]),(0,e.jsxs)("div",{className:te.chartContainer,onClick:D,children:[(0,e.jsx)("div",{className:te.chartTitle,children:y}),(0,e.jsx)("div",{className:te.chartContent,children:(0,e.jsx)("div",{ref:r,className:te.chart})})]})},Ue=Ke,ne={chartContainer:"chartContainer___OYH4Y",chartTitle:"chartTitle___Xro3f",chartContent:"chartContent___GVSP5",chart:"chart___cIv_e"},We=function(l){var C=l.title,y=C===void 0?"\u5404\u7CFB\u7EDF\u5DF2\u5F55\u5165\u9879\u76EE\u6570\u91CF\u7EDF\u8BA1":C,m=l.data,x=l.onClick,D=(0,s.useRef)(null),r=(0,s.useRef)(null);return(0,s.useEffect)(function(){if(D.current){r.current||(r.current=ee.S1(D.current));var n={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:"left",top:"middle",itemWidth:16,itemHeight:16},color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],series:[{name:"\u9879\u76EE\u6570\u91CF",type:"pie",radius:["35%","50%"],center:["60%","50%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:4,borderColor:"#fff",borderWidth:2},label:{show:!0,formatter:"{b}: {c}",width:100,overflow:"break"},emphasis:{label:{show:!0}},data:m||[]}]};r.current.setOption(n);var j=function(){var h;(h=r.current)===null||h===void 0||h.resize()};return window.addEventListener("resize",j),function(){window.removeEventListener("resize",j),r.current&&(r.current.dispose(),r.current=null)}}},[m]),(0,e.jsxs)("div",{className:ne.chartContainer,onClick:x,children:[(0,e.jsx)("div",{className:ne.chartTitle,children:y}),(0,e.jsx)("div",{className:ne.chartContent,children:(0,e.jsx)("div",{ref:D,className:ne.chart})})]})},Ye=We,Qe=u(4725),le={sidebar:"sidebar___Ec0dO",sidebarHeader:"sidebarHeader___r8uSg",btnNew:"btnNew___jfIZ9",treeMenu:"treeMenu___H6P35"},Xe=function(l){var C=l.onNewProject,y=l.onSelect,m=(0,s.useState)(["homepage"]),x=w()(m,2),D=x[0],r=x[1],n=(0,s.useState)([]),j=w()(n,2),v=j[0],h=j[1],L=(0,$.useModel)("business"),o=L.treeData,i=function(Z){var E={},g=[];return Z.forEach(function(A){E[A.ID]={title:A.NAME,key:A.ID,jumpUrl:A.jumpUrl,children:[]}}),Z.forEach(function(A){var k=E[A.ID];A.PARENTID&&E[A.PARENTID]?E[A.PARENTID].children.push(k):g.push(k)}),g};(0,s.useEffect)(function(){if(o&&o.length>0){var M=i(o);h(M)}},[o]);var f=function(Z,E){r(Z),y==null||y(Z);var g=E.node;g!=null&&g.jumpUrl&&window.open(g.jumpUrl,"_blank")};return(0,e.jsxs)("div",{className:le.sidebar,children:[(0,e.jsx)("div",{className:le.sidebarHeader,children:(0,e.jsx)(Q.ZP,{type:"primary",block:!0,onClick:C,className:le.btnNew,children:"\u65B0\u589E"})}),(0,e.jsx)("div",{className:le.treeMenu,children:v.length>0&&(0,e.jsx)(Qe.Z,{treeData:v,selectedKeys:D,onSelect:f,defaultExpandAll:!0,blockNode:!0})})]})},Je=Xe,qe=u(82901),me={homePage:"homePage___swT2A",mainContent:"mainContent___k6fUM",chartsGrid:"chartsGrid___doyRb"},_e=function(){var l=(0,s.useState)(!1),C=w()(l,2),y=C[0],m=C[1],x=(0,s.useState)([]),D=w()(x,2),r=D[0],n=D[1],j=(0,s.useState)({data:[],xAxisData:[]}),v=w()(j,2),h=v[0],L=v[1],o=(0,s.useState)({data:{lineCoverage:[],branchCoverage:[]},xAxisData:[]}),i=w()(o,2),f=i[0],M=i[1],Z=(0,s.useState)({data:{lineCoverage:[],branchCoverage:[]},yAxisData:[]}),E=w()(Z,2),g=E[0],A=E[1],k=(0,$.useModel)("business"),pe=k.treeData,Ce=k.refreshTree;(0,s.useEffect)(function(){(0,I.W$)(1).then(function(t){var c;if(t!=null&&(c=t.responseData)!==null&&c!==void 0&&c.data){var S=t.responseData.data.map(function(F){return{value:F.LEVEL3COUNT||0,name:F.NAME||""}});n(S)}}),(0,I.W$)(2).then(function(t){var c;if(t!=null&&(c=t.responseData)!==null&&c!==void 0&&c.data){var S=t.responseData.data.map(function(b){return b.MONTH||""}),F=t.responseData.data.map(function(b){return b.COUNT||0});L({xAxisData:S,data:F})}}),(0,I.W$)(3).then(function(t){var c;if(t!=null&&(c=t.responseData)!==null&&c!==void 0&&c.data){var S=t.responseData.data.map(function(T){return T.NAME||""}),F=t.responseData.data.map(function(T){return parseFloat(T.LINECOVERAGE||"0")}),b=t.responseData.data.map(function(T){return parseFloat(T.BRANCHCOVERAGE||"0")});M({xAxisData:S,data:{lineCoverage:F,branchCoverage:b}})}}),(0,I.W$)(4).then(function(t){var c;if(t!=null&&(c=t.responseData)!==null&&c!==void 0&&c.data){var S=Re()(t.responseData.data).sort(function(R,d){return parseFloat(R.LINECOVERAGE||"0")-parseFloat(d.LINECOVERAGE||"0")}),F=S.map(function(R){return R.NAME||""}),b=S.map(function(R){return parseFloat(R.LINECOVERAGE||"0")}),T=S.map(function(R){return parseFloat(R.BRANCHCOVERAGE||"0")});A({yAxisData:F,data:{lineCoverage:b,branchCoverage:T}})}})},[pe]);var se=function(){m(!0)},ie=function(){m(!1)},H=function(){var t=De()(_()().mark(function c(S){return _()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:console.log("\u4FDD\u5B58\u6210\u529F\u56DE\u8C03:",S),m(!1),Ce();case 3:case"end":return b.stop()}},c)}));return function(S){return t.apply(this,arguments)}}(),ue=function(c){console.log("\u9009\u4E2D\u7684\u8282\u70B9:",c)};return(0,e.jsxs)("div",{className:me.homePage,children:[(0,e.jsxs)(qe.Z,{split:"vertical",defaultSize:"25vw",primary:"first",style:{top:0},minSize:250,children:[(0,e.jsx)(Je,{onNewProject:se,onSelect:ue}),(0,e.jsx)("div",{className:me.mainContent,children:(0,e.jsxs)("div",{className:me.chartsGrid,children:[(0,e.jsx)(Ye,{data:r.length>0?r:void 0,onClick:function(){return $.history.push("/coverage-detail?sortBy=firstLevel")}}),(0,e.jsx)(Ue,{data:h.data.length>0?h.data:void 0,xAxisData:h.xAxisData.length>0?h.xAxisData:void 0,onClick:function(){return $.history.push("/coverage-detail?sortBy=createTime")}}),(0,e.jsx)(He,{title:"\u6700\u8FD1\u5F55\u5165".concat(f.xAxisData.length||5,"\u4E2A\u9879\u76EE\u7684\u8986\u76D6\u7387\u6307\u6807"),data:f.data.lineCoverage.length>0?f.data:void 0,xAxisData:f.xAxisData.length>0?f.xAxisData:void 0,onClick:function(){return $.history.push("/coverage-detail?sortBy=createTime")}}),(0,e.jsx)(Ge,{title:"\u884C\u8986\u76D6\u7387\u6307\u6807\u6700\u9AD8\u7684".concat(g.yAxisData.length||5,"\u4E2A\u9879\u76EE\u7EDF\u8BA1"),data:g.data.lineCoverage.length>0?g.data:void 0,yAxisData:g.yAxisData.length>0?g.yAxisData:void 0,onClick:function(){return $.history.push("/coverage-detail?sortBy=lineCoverage")}})]})})]}),(0,e.jsx)($e,{open:y,onCancel:ie,onSave:H})]})},ea=_e}}]);
